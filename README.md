# ii-db-utils

ii-db-utils - это простейшие скрипты на python и bash для работы с классической текстовой базой данных ii.
Почти в каждом скрипте есть переменные `indexdir` и `msgdir`, где указывается альтернативный путь к индексу и сообщениям.
О технологии и сети ii можете узнать [здесь](http://ii-net.tk/ii-doc).

## emailtoii.py

С этим скриптом можно использовать ii-клиент для чтения входящих email-писем. Подход у него очень простой, html преобразуется в plaintext.
Для использования требуется установить fetchmail, procmail и html2text (python-версию). Примерные образцы конфигов здесь есть.

## sender.py

Эта вещь позволяет отправлять сообщения на удалённую станцию (как поинт). Полезно для роботов-автопостеров или собственных утилит. Формат файлов - обычный [msgline](http://ii-net.tk/ii-doc/?p=2#pointmsg) (без base64).

## ii-search.py

Утилита поиска сообщений в базе.
* Ищет по эхам, отправителям, получателям, адресам станции, по временным промежуткам, по сабжу и тексту сообщения
* Если надо искать по всем значениям параметра поиска, то просто жмёте Enter
* По первым 4 параметрам поиска можно вводить несколько значений через разделитель (пробел или || для адреса)
* Найденные сообщения сортируются по времени

## ii-stats.py

Простейшая статистика: по эхам, сообщениям, поинтам и.т.д.

## ii-echocat.sh

Всего лишь выводит по N последних сообщений с каждой выбранной эхи с сортировкой по времени. Можно применять для conky или чего-нибудь подобного.

## checker.py и builder.py

`checker.py` проверяет базу данных на элементарные ошибки (дубли, пустые сообщения и несоответствие базы индексу). `builder.py` эти ошибки исправляет.
